\documentclass{scrartcl}

\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{lmodern}
\usepackage{courier}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{textcomp}

\lstset{%
  language=[LaTeX]TeX,%
  basicstyle=\ttfamily,%
  showstringspaces=false,%
  upquote=true}

% german umlauts
\lstset{
  literate={ö}{{\"o}}1
           {Ö}{{\"O}}1
           {ä}{{\"a}}1
           {Ä}{{\"A}}1
           {ü}{{\"u}}1
           {Ü}{{\"U}}1
           {ß}{{\ss}}1
}

% This line contains no umlauts.
% ae = ä, ue = ü, oe = ö, ss = ß
% AE = Ä, UE = Ü, OE = Ö

\begin{document}
  \lstinputlisting\jobname
\end{document}