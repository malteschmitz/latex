\chapter{fortgeschrittene Verwendung}

\targets{
  \item Literaturverzeichnisse und Zitationen setzen können
  \item Mit eigenen Befehlen semantischere \LaTeX-Dokumente erzeugen
  \item DIN-Briefe mit \LaTeX\ setzen können
  \item Kennen lernen, wie man eigene Layouts erzeugen kann
}

\website

\section{\LaTeX\ verwenden}

\subsection{Farbe}

\begin{Frame}[fragile]{Farbe}
  \begin{Block}{In der Präambel}
    \begin{lstlisting}[gobble=6,style=block]
      \usepackage{xcolor}
    \end{lstlisting}
  \end{Block}

  \xxx

  \begin{lstlisting}[gobble=4]
    In diesem \colorbox{orange}{Text} sind
    \textcolor{orange}{Worte} hervorgehoben.
  \end{lstlisting}

  In diesem \colorbox{orange}{Text} sind
  \textcolor{orange}{Worte} hervorgehoben.
\end{Frame}

\newcommand{\colorsample}[1]{\textcolor{#1}{\rule[-.5ex]{2em}{2ex}} \texttt{#1}}

\begin{Frame}{Farben}
  \colorsample{red}\newline
  \colorsample{green}\newline
  \colorsample{blue}\newline
  \colorsample{cyan}\newline
  \colorsample{magenta}\newline
  \colorsample{yellow}

  \xxx

  \colorsample{black}\newline
  \colorsample{white}\newline
  \colorsample{darkgray}\newline
  \colorsample{gray}\newline
  \colorsample{lightgray}
\end{Frame}

\begin{Frame}[fragile]{Eigene Farben}
  \begin{lstlisting}[gobble=4]
    % Red, Green, Blue von 0 bis 255
    \xdefinecolor{uni-luebeck}{RGB}{0, 120, 140}
    % Red, Green, Blue von 0 bis 1
    \xdefinecolor{uni-luebeck}{rgb}{0, 0.47, 0.55}
    % Hue, Saturation, Brightness von 0 bis 240
    \xdefinecolor{skyblue}{HSV}{217, 47, 87}
    % Hue, Saturation, Brightness von 0 bis 1
    \xdefinecolor{skyblue}{rgb}{0.9, 0.2, 0.36}
    % neuer Name für mehr Struktur
    \colorlet{maincolor}{uni-luebeck}
  \end{lstlisting}

  \xxx

  \begin{lstlisting}[gobble=4]
    \foreach \h in {0, ..., 240} {% see pgffor package
      \xdefinecolor{current}{HSB}{\h, 240, 240}%
      \textcolor{current}{\rule{1pt}{3ex}}%
    }%
  \end{lstlisting}
  \hfill
  \foreach \h in {0, ..., 240} {%
    \xdefinecolor{current}{HSB}{\h, 240, 240}%
    \textcolor{current}{\rule{1pt}{3ex}}%
  }\hfill
\end{Frame}

\begin{Frame}{Farben mischen}
  \colorsample{red}\newline
  \colorsample{red!75}\newline
  \colorsample{red!75!green}\newline
  \colorsample{red!75!green!50}\newline
  \colorsample{red!75!green!50!blue}\newline
  \colorsample{red!75!green!50!blue!25}\newline
  \colorsample{red!75!green!50!blue!25!gray}

  \xxx

  \colorsample{-red}\newline
  \colorsample{-red!75}\newline
  \colorsample{-red!75!green}\newline
  \colorsample{-red!75!green!50}\newline
  \colorsample{-red!75!green!50!blue}\newline
  \colorsample{-red!75!green!50!blue!25}\newline
  \colorsample{-red!75!green!50!blue!25!gray}
\end{Frame}

\begin{Frame}[fragile]{Zebratabellen}
  \begin{Block}{In der Präambel}
    \begin{lstlisting}[gobble=6,style=block]
      \usepackage[table]{xcolor}
    \end{lstlisting}
  \end{Block}

  \begin{lstlisting}[gobble=4]
    \rowcolors{1}{maincolor!25}{maincolor!5}
    \begin{tabular}{lr}
      \rowcolor{maincolor!50} Posten & Betrag (EUR) \\
      Messe & 333,20 \\
      Kombüse & 47,60 \\
      Summe & 380,80
    \end{tabular}
  \end{lstlisting}

  \rowcolors{1}{maincolor!25}{maincolor!5}
  \begin{center}
    \begin{tabular}{lr}
      \rowcolor{maincolor!50} Posten & Betrag (EUR) \\
      Messe & 333,20 \\
      Kombüse & 47,60 \\
      Summe & 380,80
    \end{tabular}
  \end{center}
\end{Frame}

\subsection{Eigene Befehle und Umgebungen}

\begin{Frame}[fragile]{Eigene Befehle}
  \begin{lstlisting}[gobble=4,morekeywords={mycommand}]
    \newcommand{\mycommand}[2]{#1 liest #2.}
    \mycommand{Malte}{ein Buch}
  \end{lstlisting}
  \newcommand{\mycommand}[2]{#1 liest #2.}
  \mycommand{Malte}{ein Buch}

  \xxx\pause

  \begin{Beispiel}[weniger Redundanz]
    \begin{lstlisting}[gobble=6,style=block,morekeywords={colorsample}]
      \newcommand{\colorsample}[1]{%
        \textcolor{#1}{\rule[-.5ex]{2em}{2ex}}
        \texttt{#1}}
      \colorsample{red}
    \end{lstlisting}
    \colorsample{red}
  \end{Beispiel}

  \pause

  \begin{Beispiel}[Mehr Struktur]
    \begin{lstlisting}[gobble=6,style=block,morekeywords={user,gui}]
      \newcommand{\gui}[1]{\textsl{\textsf{#1}}}
      \newcommand{\user}[1]{\texttt{#1}}
      Geben Sie in das Feld \gui{Prüfziffer}
      den Wert \user{fgdhsjk} ein.
    \end{lstlisting}
    \newcommand{\gui}[1]{\textsl{\textsf{#1}}}
    \newcommand{\user}[1]{\texttt{#1}}
    \textrm{Geben Sie in das Feld \gui{Prüfziffer}
    den Wert \user{fgdhsjk} ein.}
  \end{Beispiel}
\end{Frame}

\begin{Frame}[fragile]{Eigene Befehle}{optionaler Parameter}
  \begin{itemize}
    \item Es ist \alert{genau ein} optionales Argument zulässig.
    \item Nur das \alert{erste Argument} des Befehls kann optional werden.
  \end{itemize}

  \xxx

  \begin{lstlisting}[gobble=4,morekeywords={wichtig}]
    \newcommand{\wichtig}[2]%
      [red]{\textcolor{#1}{\emph{#2}}}
    \wichtig{Hier} sind \wichtig[orange]{Worte}
    unterschiedlich \wichtig[blue]{hervorgehoben}.
  \end{lstlisting}
  \newcommand{\wichtig}[2]%
    [red]{\textcolor{#1}{\emph{#2}}}
  \wichtig{Hier} sind \wichtig[orange]{Worte}
  unterschiedlich \wichtig[blue]{hervorgehoben}.
\end{Frame}

\begin{Frame}[fragile]{Befehle umdefinieren}
  \begin{lstlisting}[gobble=4]
    Ich bin \emph{hervorgehoben}.
  \end{lstlisting}
  Ich bin \emph{hervorgehoben}.

  \xxx

  \begin{lstlisting}[gobble=4]
    \renewcommand{\emph}[1]{\textsl{#1}}
    Ich bin \emph{hervorgehoben}.
  \end{lstlisting}
  \renewcommand{\emph}[1]{\textsc{#1}}
  Ich bin \emph{hervorgehoben}.
\end{Frame}

\begin{Frame}[fragile]{Eigene Umgebungen}
  \begin{lstlisting}[gobble=4]
    \newenvironment{achtung}[1][Achtung]{%
      \rule{\textwidth}{1pt}\\%
      \textbf{#1}: %
    }{%
      \rule[1ex]{\textwidth}{1pt}%
    }

    \begin{achtung}
      Bitte verwenden [...] Neufassung.
    \end{achtung}
  
    \begin{achtung}[Hinweis]
      Bitte nicht knicken.
    \end{achtung}
  \end{lstlisting}
  \newenvironment{achtung}[1][Achtung]{%
    \rule{\textwidth}{1pt}\\%
    \textbf{#1}: %
  }{%
    \rule[1ex]{\textwidth}{1pt}%
  }

  \begin{achtung}
    Bitte verwenden Sie diesen Artikel nicht.
    Sie erhalten in Kürze eine berichtigte Neufassung.
  \end{achtung}

  \begin{achtung}[Hinweis]
    Bitte nicht knicken.
  \end{achtung}

  %\begin{Block}{Umgebungen umdefinieren}
  %  \lstinline-\renewenvironment- funktioniert
  %  analog zu \lstinline-\renewcommand-.
  %\end{Block}
\end{Frame}

\subsection{Quelltext und Pseudocode}

\begin{Frame}[fragile]{Quelltext}
  \begin{Block}{In der Präambel}
    \begin{lstlisting}[style=block,gobble=6]
      \usepackage{listings}
      \lstset{%
        basicstyle=\ttfamily,%
        showstringspaces=false,%
        upquote=true}
      \usepackage{textcomp} % für upquote
      \usepackage{courier} % für schönere Schriftart
    \end{lstlisting}
  \end{Block}

  \lstinputlisting{listing.tex}
  \lstset{style=block}
  \input{listing.tex}
\end{Frame}

\begin{Frame}[fragile]{Umlaute}
  \texttt{listings} hat Probleme mit UTF-8 und Umlauten
  \begin{lstlisting}[gobble=4]
    % german umlauts
    \lstset{
      literate={ö}{{\"o}}1
               {Ö}{{\"O}}1
               {ä}{{\"a}}1
               {Ä}{{\"A}}1
               {ü}{{\"u}}1
               {Ü}{{\"U}}1
               {ß}{{\ss}}1
    }
  \end{lstlisting}
\end{Frame}

\begin{Frame}[fragile]{Pseudocode}
  \begin{Block}{In der Präambel}
    \begin{lstlisting}[style=block,gobble=6]
      \lstdefinestyle{pseudo}{language={},%
        basicstyle=\normalfont,%
        morecomment=[l]{//},%
        morekeywords={for,to,while,do,if,then,else},%
        mathescape=true,%
        columns=fullflexible}
    \end{lstlisting}
  \end{Block}

  \lstinputlisting[language={},morekeywords={begin,end}]{pseudocode.tex}
  \lstset{style=block}
  \input{pseudocode}
\end{Frame}

\section{Literatur}

\subsection{Verwendung von \BibTeX}

\begin{Frame}[fragile]{Was ist \BibTeX?}
  \begin{itemize}
    \item \BibTeX\ ist ein \alert{eigenständiges Programm},\\
    das \LaTeX\ ergänzt.
    \item \BibTeX\ erzeugt aus einer \alert{Literaturdatenbank}\\
      ein \alert{Literaturverzeichnis}.
    \item Das Literaturverzeichnis enthält \alert{nur} die\\
      mit \lstinline-\cite- \alert{zitierten Einträge} der Datenbank.
  \end{itemize}
\end{Frame}

\begin{Frame}[t]{Ein Beispieldokument \texttt{arbeit.pdf}}
  \includegraphics[width=\textwidth]{demo/arbeit.pdf}
\end{Frame}

\begin{Frame}[fragile]{Das \LaTeX-Dokument \texttt{arbeit.tex}}
  \begin{lstlisting}[gobble=4]
    \documentclass{scrartcl}
    
    % ...
    
    \begin{document}
      In \cite{rltl} wird die reguläre lineare
      Temporallogik (RLTL) vorgestellt.
      Dazu wird der in \cite[S. 101--106]{Hopcroft}
      beschriebenen Algorithmus verwendet

      \bibliographystyle{alphadin}
      \bibliography{datenbank}
    \end{document}
  \end{lstlisting}
\end{Frame}

\begin{Frame}{Die Literaturdatenbank \texttt{datenbank.bib}}
  \lstinputlisting[language=BibTeX]{demo/datenbank.bib}
\end{Frame}

\begin{Frame}[fragile]{Kompilieren}
  \begin{lstlisting}[language={},morekeywords={pdflatex,bibtex},gobble=4]
    pdflatex arbeit
    bibtex arbeit
    pdflatex arbeit
    pdflatex arbeit
  \end{lstlisting}

  \xxx
  \pause

  \begin{onlyenv}<presentation>
    \vskip -2.4cm
    \begin{tikzpicture}
      \draw[red,very thick] (0,0) -- (2.5cm, 2cm);
    \end{tikzpicture}
    \vskip .5cm
  \end{onlyenv}

  \begin{lstlisting}[language={},morekeywords={latexmk},gobble=4]
    latexmk -pdf arbeit
  \end{lstlisting}
\end{Frame}

\begin{Frame}{Wie funktioniert \BibTeX?}
  \begin{center}
    \begin{tikzpicture}[
        on grid,
        node distance=14mm and 35mm,
        engine/.style={
          node font=\rmfamily\Large\bfseries,
          inner sep=2pt
        }
      ]
      \node[examplecolor] (tex) {\icon{TEX}};
      \uncover<2->{
        \node[right=of tex, engine]
          (pdfTeX1) {pdf\TeX};
      }
      \only<3>{
        \node[right=of pdfTeX1, pdficon] (pdf1) {\icon{PDF}};
      }
      \only<4->{
        \node[right=of pdfTeX1, pdficon!30] (pdf1) {\icon{PDF}};
      }
      \uncover<3->{
        \node[below=of pdfTeX1, xshift=-18mm, auxicon] (aux1) {\icon{AUX}};
      }
      \uncover<4->{
        \node[right=25mm of aux1, engine] (BibTeX) {\BibTeX};
      }
      \uncover<5->{
        \node[right=28mm of BibTeX, yshift=-7mm, bblicon] (bbl) {\icon{BBL}};
      }
      \uncover<6->{
        \node[below=of BibTeX, engine] (pdfTeX2) {pdf\TeX};
      }
      \only<7>{
        \node[below=10mm of pdfTeX2, xshift=18mm, pdficon] (pdf2) {\icon{PDF}};
      }
      \only<8->{
        \node[below=10mm of pdfTeX2, xshift=18mm, pdficon!30] (pdf2) {\icon{PDF}};
      }
      \uncover<7->{
        \node[below=10mm of pdfTeX2, xshift=-25mm, auxicon] (aux2) {\icon{AUX}};
      }
      \uncover<8->{
        \node[below=10mm of aux2, xshift=25mm, engine] (pdfTeX3) {pdf\TeX};
      }
      \only<9>{
        \node[below=10mm of pdfTeX3, xshift=-25mm, auxicon] (aux3) {\icon{AUX}};
      }
      \only<10->{
        \node[below=10mm of pdfTeX3, xshift=-25mm, auxicon!30] (aux3) {\icon{AUX}};
      }
      \uncover<9->{
        \node[below=10mm of pdfTeX3, xshift=18mm, pdficon] (pdf3) {\icon{PDF}};
      }

      \only<2->{
        \draw[very thick]
          (tex) edge[->] (pdfTeX1);
      }
      \only<3->{
        \draw[very thick]
          (pdfTeX1) edge[->] (aux1);
        \draw[very thick]
          (pdfTeX1) edge[->] (pdf1);
      }
      \only<4->{
        \draw[very thick]
          (aux1) edge[->] (BibTeX);
      }
      \only<5->{
        \draw[very thick]
          (BibTeX) edge[->] (bbl);
      }
      \only<6->{
        \draw[very thick]
          (aux1) edge[->] (pdfTeX2)
          (bbl) edge[->] (pdfTeX2);
        \draw[->, very thick] (tex.south) ++ (.2,0) |- (pdfTeX2);
      }
      \only<7->{
        \draw[very thick]
          (pdfTeX2) edge[->] (pdf2)
                    edge[->] (aux2);
      }
      \only<8->{
        \draw[very thick]
          (aux2) edge[->] (pdfTeX3);
        \draw[very thick, ->]
          (tex.south) ++ (.2,0) |- (pdfTeX3);
        \draw[very thick, ->]
          (bbl.south) ++ (.2,0) |- (pdfTeX3);
      }
      \only<9->{
        \draw[very thick]
          (pdfTeX3) edge[->] (aux3)
                    edge[->] (pdf3);
      }
    \end{tikzpicture}
  \end{center}
\end{Frame}

\subsection{\BibTeX-Einträge}

\begin{Frame}[fragile]{Quellenarten}
  \begin{lstlisting}[gobble=4,language=BibTeX]
    @book{texbook,
      author = {Donald E. Knuth},
      title = {The {\TeX book}},
      year = {1984},
      publisher = {Addison-Wesley Professional},
    }
  \end{lstlisting}

  \xxx

  \lstset{language=BibTeX}
  \begin{tabular}{r@{ }l}
    \lstinline-@book- & Buch \\
    \lstinline-@article- & Zeitschriftenartikel \\
    \lstinline-@inproceedings- & Tagungsbeitrag im Tagungsband \\
    \lstinline-@techreport- & Technischer Bericht \\
    \lstinline-@phdthesis- & Dissertation \\
    \lstinline-@mastersthesis- & Master- oder Diplomarbeit \\
    \lstinline-@misc- & andere Quelle (zum Beispiel Website)
  \end{tabular}
\end{Frame}

\begin{Frame}[allowframebreaks]{Wichtige Angaben in \BibTeX-Einträgen}
  \begin{Block}{\texttt{author}}
    Autoren der Arbeit\newline
    getrennt durch \texttt{and}
  \end{Block}

  \begin{Block}{\texttt{editor}}
    Herausgeber der Zeitschrift oder Organisator der Tagung\\
    getrennt durch \texttt{and}
  \end{Block}

  \begin{Block}{\texttt{title}}
    Titel der zitierten Quelle\\
    (nicht des Bandes, der Zeitschrift, \ldots)
  \end{Block}

  \framebreak

  \begin{Block}{\texttt{booktitle}}
    Titel des Tagungsbandes\\
    bei \lstinline-@inproceedings-
  \end{Block}

  \begin{Block}{\texttt{journal}}
    Name der Zeitschrift\\
    bei \lstinline-@article-
  \end{Block}

  \begin{Block}{\texttt{publisher}}
    Verlag des Buches, der Zeitschift oder des Tagungsbandes
  \end{Block}

  \framebreak

  \begin{Block}{\texttt{series}}
    Name der Serie (Verlage fassen Bücher\\
    oder Tagungsbände zu Serien zusammen)
  \end{Block}

  \begin{Block}{\texttt{volume}}
    Nummer des Buches oder Tagungsbandes in der Serie\\
    bei Verwendung von \texttt{series}
  \end{Block}

  \begin{Block}{\texttt{number}}
    Unternummer des Bandes bei Zeitschriften\\
    (Verlage fassen Zeitschriften zu Bänden zusammen)
  \end{Block}

  \framebreak

  \begin{Block}{\texttt{pages}}
    Seitenzahlen eines Artikels innerhalb\\
    eines Buches oder einer Zeitschrift\\
    \alert{nicht für \lstinline-@book-!}
  \end{Block}

  \begin{Block}{\texttt{year}}
    Jahr der Veröffentlichung
  \end{Block}

  \begin{Block}{\texttt{institution}}
    Institution, an der die Arbeit angefertigt wurde\\
    bei \lstinline-@phdthesis- oder \lstinline-@masterthesis-
  \end{Block}

  \begin{Block}{\texttt{note}}
    Beliebiger Text; Bemerkungen aller Art,\\
    die mit angezeigt werden sollen
  \end{Block}
\end{Frame}

\begin{Frame}[fragile]{Websites zitieren}
  \begin{alertblock}{Wichtig}
    \begin{itemize}
      \item \BibTeX\ hat \alert{keine Quellenart} für Websites
      \item veröffentlichte Arbeiten, die online verfügbar sind,\\
        sind \alert{keine Websites}
      \item Websites sind die \alert{unseriöseste Quelle}
      \item Wenn der \alert{Autor seriös} ist,\\
        ist die Art der Veröffentlichung nicht so wichtig
    \end{itemize}
  \end{alertblock}

  \xxx

  \begin{lstlisting}[language=BibTeX]
    @Misc{codecommit,
      author = {Daniel Spiewak},
      title = {The {M}agic {B}ehind {P}arser {C}ombinators},
      year = {2011},
      howpublished = "\url{http://www.codecommit.com/blog/
      	scala/the-magic-behind-parser-combinators}",
      note = "[Online; Zugriff am 30.11.2011]"
    }
  \end{lstlisting}
\end{Frame}

\subsection{Stile}

\begin{Frame}{typische Stile}
  \begin{zebratabular}{llll}
    \headerrow Stil & Referenzierung & Verzeichnis \\
    \texttt{plain} & [1] &  \\
    \texttt{abbrv} & [1] & nur Initialen \\
    \texttt{unsrt} & [1] & Reihenfolge \\
    \texttt{alpha} & [HMU01] & \\
    \texttt{apalike} & [Hopcroft et al., 2001] & 
  \end{zebratabular}

  \xxx

  \begin{Block}{deutsche Stile nach DIN 1502}
    \texttt{plaindin}, \texttt{abbrvdin}, \texttt{unsrtdin}
    und \texttt{alphadin}\\
    analog zu obigen Stilen
  \end{Block}

  \xxx

  \begin{Block}{Empfehlung}
    \texttt{alphadin} ist deutsch, kurz und semantisch
  \end{Block}
\end{Frame}

\begin{Frame}[fragile]{KOMA-Script-Optionen}
  \begin{description}
    \item[\texttt{nottotoc}]
      kein Eintrag im Inhaltsverzeichnis
    \item[\texttt{totoc}]
      unnummerierter Eintrag im Inhaltsverzeichnis
    \item[\texttt{totocnumbered}]
      nummerierter Eintrag im Inhaltsverzeichnis
    \item[\texttt{openstyle}]
      untergliederte, offene Formatierung
    \item[\texttt{klassische, kompakte Formatierung}]
  \end{description}

  \begin{Beispiel}
    \begin{lstlisting}[gobble=6,style=block]
      \KOMAoptions{%
        bibliography=totocnumbered,%
        bibliography=openstyle}
    \end{lstlisting}
  \end{Beispiel}
\end{Frame}

\section{Eigene Layouts}

\subsection{Briefe}

\subsection{Schriftarten}

\subsection{Kopf- und Fußzeilen}

\subsection{Papierformate und Satzspiegel}

% geometry

\section*{Zusammenfassung}

\begin{frame}{Zusammenfassung}
  \begin{enumerate}
    \item \LaTeX\ ist toll.
  \end{enumerate}
\end{frame}

\begin{Frame}[fragile]{Zum Weiterlesen}
  \begin{thebibliography}{10}
    \bibitem{Knuth}
      Donald E. Knuth.
      \newblock \emph{The \TeX book},
      \newblock Addison-Wesley Professional, Januar 1984.
    \bibitem{Victor}
      Victor Eijkhout.
      \newblock \emph{\TeX\ by Topic: A \TeX nician's Reference},
      \newblock Addison-Wesley, Februar 1992.
    \bibitem{Kern}
      Uwe Kern.
      \newblock \emph{Farbspielereien in \LaTeX mit dem \texttt{xcolor}-Paket},
      \newblock Die \TeX nische Komödie 2/2004, S. 35--53,
      \newblock \alt<presentation>{\href{http://jochen-lipps.de/latex/dtk200402.pdf}{\texttt{dtk200402.pdf}}}{\url{http://jochen-lipps.de/latex/dtk200402.pdf}}.
  \end{thebibliography}
\end{Frame}